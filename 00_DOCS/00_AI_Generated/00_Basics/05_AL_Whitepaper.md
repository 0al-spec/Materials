# Agentification Layer: Whitepaper

## 1. Введение

### Контекст

Рост интереса к LLM-ориентированным операционным системам и многоагентным ИИ-моделям требует инфраструктуры, которая стандартизирует доступ к файлам, системным утилитам, API и аппаратным устройствам. Сегодня каждая команда вынуждена изобретать proxy-обёртки — это приводит к хаосу.

### Проблема

Современные AI-агенты:
- не имеют безопасного, унифицированного способа взаимодействия с системными ресурсами;
- сильно зависят от кастомных обвязок и недокументированных скриптов;
- не умеют координировать действия друг с другом в открытой среде.

## 2. Видение

Agentification Layer (AL) — это Unix-подобное ядро для AI-инфраструктуры. Оно превращает любую системную сущность (файл, API, утилиту) в стандартизированного агента, доступного через MCP (JSON-RPC) или A2A (gRPC-stream).

> "Если A2A — это TCP/IP для агентов, то AL — это POSIX + systemd."

AL предоставляет:
- декларативное описание агентов (YAML-паспорта);
- изоляцию вызовов (seccomp, chroot);
- маршрутизацию и аудит;
- нулевую зависимость от языка или фреймворка агента.

## 3. Архитектура

### Компоненты:
- **agentifyd** — рантайм-демон, исполняющий вызовы из паспортов.
- **passport YAML** — декларация методов, политик доступа, мэппинга.
- **MCP server** — JSON-RPC endpoint для каждого агента.
- **A2A gateway** — gRPC‑протокол взаимодействия между агентами.

### Поток:

LLM → MCP/A2A → agentifyd → YAML → system call / CLI

## 4. Примеры использования

- `/get-config` → оборачивает `/etc/model-config.yaml`
- `/model-metrics` → выполняет `top | grep PID`
- `/publish` → вызывает `kafka-console-producer`
- `/stream-logs` → читает `kubectl logs` или файл
- `/system-diag` → df, nslookup, ping, free

## 5. Ключевые преимущества

| Параметр          | Agentification Layer | AIOS          | AutoGen      |
|-------------------|----------------------|---------------|--------------|
| Без кода          | ✅                   | ❌            | ❌           |
| Поддержка A2A     | ✅                   | ❌            | ❌           |
| Безопасность      | ✅ (seccomp, chroot) | ⚠️ (sandbox)   | ⚠️           |
| Многоплатформенность | ✅                | ⚠️            | ❌           |
| Встраиваемость    | CLI, k8s, CI/CD      | Python SDK    | Python only  |

## 6. Протоколы

- **MCP (Model Context Protocol)** — JSON-RPC 2.0 поверх HTTP или Unix socket.
- **A2A (Agent-to-Agent)** — протокол Google, совместимый с `submitGoal` и `streamResult`.
- AL поддерживает оба.

## 7. Безопасность

- Каждый агент ограничен `seccomp`, `capabilities`, `chroot`.
- Политики задаются декларативно в паспорте.
- Аудит всех вызовов: trace_id, user_id, OpenTelemetry экспорт.

## 8. Дорожная карта

### 2025–Q3
- A2A gateway
- AgentPack (10+ YAML)
- WebUI и dashboard

### 2025–Q4
- Helm-интеграция
- VSCode-плагин
- AgentHub registry

### 2026–Q1
- Policy Engine
- RBAC и multi-tenant
- Встраивание в облачные платформы (e.g. VK Cloud, AWS)

## 9. Рыночное позиционирование

AL ≠ фреймворк. AL = ядро.  
В отличие от AIOS, LangChain, AutoGen, AL работает:
- без написания Python;
- без жёсткой привязки к конкретному LLM;
- с безопасностью и масштабируемостью по умолчанию.

## 10. Риски и митигации

| Риск                        | Митигация                                        |
|-----------------------------|--------------------------------------------------|
| Нет reasoning ядра          | Интеграция с Ollama, OpenAI, LangChain          |
| YAML слишком декларативен   | Добавление `agentify-ext` и `pre/post hooks`    |
| Неясен security model       | Threat model + визуальный UI                    |
| Нет агентов из коробки      | AgentPack + генератор паспортов                 |
| Нет супервайзера в A2A      | AL выступает как доверенная исполнительная среда|

## 11. Лицензия и экосистема

- **Ядро AL** — Apache 2.0  
- **Паспорта** — Creative Commons Attribution  
- **Модель распространения:** OSS core + Policy Engine как enterprise-модуль

## 12. Заключение

Agentification Layer — это минималистичное, безопасное и стандартизированное ядро, позволяющее любому LLM‑агенту безопасно работать с ОС, API, внешними сервисами и другими агентами через A2A.

> Мы строим systemd для мира LLM.

---

## Приложения

- [Passport Spec v0.1](https://github.com/agent-layer/passport-spec)
- [agentifyd runtime](https://github.com/agent-layer/agentifyd)
- [Документация MCP/A2A](https://a2aprotocol.ai)